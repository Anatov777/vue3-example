import{d as c,e as C,v as F,r as i,f as $,x as g,o as h,c as D,k as l,g as s,y as b,a as f}from"./index.69278fbe.js";import{u as y,B as m,c as t,r as d,m as U,e as M}from"./BaseInput.0e24eb79.js";import{_ as P}from"./PasswordConfirmationFieldGroup.vue_vue_type_script_setup_true_lang.c085b301.js";const _=["onSubmit"],q=f("h1",{class:"form-title"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",-1),x=f("button",{class:"mt-10"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F",-1),R=c({__name:"RegisterView",setup(k){const p=C(),{register:w}=F(),e=i({name:"",email:"",password:""}),n=i(!1),v=$(()=>({form:{name:{required:t.withMessage("\u041F\u043E\u043B\u0435 \u043D\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E",d),minLength:t.withMessage("\u0418\u043C\u044F \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043C\u0438\u043D\u0438\u043C\u0443\u043C \u0438\u0437 2-\u0445 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432",U(2))},email:{required:t.withMessage("\u041F\u043E\u043B\u0435 \u043D\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E",d),email:t.withMessage("\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 Email",M)}}})),E=g({form:e}),r=y(v,E),B=async()=>{try{await r.value.$validate()&&n.value&&(await w(e.value),p.push({name:"EmailConfirmation",query:{email:e.value.email}}))}catch(o){alert(o.message)}},V=o=>{n.value=o};return(o,u)=>(h(),D("form",{class:"form-base",onSubmit:b(B,["prevent"])},[q,l(m,{modelValue:e.value.name,"onUpdate:modelValue":u[0]||(u[0]=a=>e.value.name=a),label:"\u0418\u043C\u044F","input-type":"text",errors:s(r).form.name.$silentErrors,"has-error":s(r).form.name.$error,onBlur:u[1]||(u[1]=a=>s(r).form.name.$touch())},null,8,["modelValue","errors","has-error"]),l(m,{modelValue:e.value.email,"onUpdate:modelValue":u[2]||(u[2]=a=>e.value.email=a),label:"Email","input-type":"email",errors:s(r).form.email.$silentErrors,"has-error":s(r).form.email.$error,onBlur:u[3]||(u[3]=a=>s(r).form.email.$touch())},null,8,["modelValue","errors","has-error"]),l(P,{newPassword:e.value.password,"onUpdate:newPassword":u[4]||(u[4]=a=>e.value.password=a),"onUpdate:isValid":u[5]||(u[5]=a=>V(a))},null,8,["newPassword"]),x],40,_))}});export{R as default};
