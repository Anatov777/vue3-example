import{d as c,b as C,q as F,r as i,e as $,s as h,o as D,c as g,j as l,f as r,v as b,a as f}from"./index.8128e601.js";import{u as U,B as m,c as t,r as d,m as q,e as y}from"./BaseInput.625240c3.js";import{_ as M}from"./PasswordConfirmationFieldGroup.vue_vue_type_script_setup_true_lang.b03b7a9d.js";const P=["onSubmit"],_=f("h1",{class:"form-title"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",-1),x=f("button",{class:"mt-10"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F",-1),R=c({__name:"RegisterView",setup(S){const p=C(),{register:w}=F(),e=i({name:"",email:"",password:""}),n=i(!1),v=$(()=>({form:{name:{required:t.withMessage("\u041F\u043E\u043B\u0435 \u043D\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E",d),minLength:t.withMessage("\u0418\u043C\u044F \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043C\u0438\u043D\u0438\u043C\u0443\u043C \u0438\u0437 2-\u0445 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432",q(2))},email:{required:t.withMessage("\u041F\u043E\u043B\u0435 \u043D\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E",d),email:t.withMessage("\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 Email",y)}}})),E=h({form:e}),s=U(v,E),B=async()=>{try{await s.value.$validate()&&n.value&&(await w(e.value),p.push({name:"EmailConfirmation",query:{email:e.value.email}}))}catch(o){alert(o.message)}},V=o=>{n.value=o};return(o,u)=>(D(),g("form",{class:"form-base",onSubmit:b(B,["prevent"])},[_,l(m,{modelValue:e.value.name,"onUpdate:modelValue":u[0]||(u[0]=a=>e.value.name=a),label:"\u0418\u043C\u044F","input-type":"text",errors:r(s).form.name.$silentErrors,"has-error":r(s).form.name.$error,onBlur:u[1]||(u[1]=a=>r(s).form.name.$touch())},null,8,["modelValue","errors","has-error"]),l(m,{modelValue:e.value.email,"onUpdate:modelValue":u[2]||(u[2]=a=>e.value.email=a),label:"Email","input-type":"email",errors:r(s).form.email.$silentErrors,"has-error":r(s).form.email.$error,onBlur:u[3]||(u[3]=a=>r(s).form.email.$touch())},null,8,["modelValue","errors","has-error"]),l(M,{newPassword:e.value.password,"onUpdate:newPassword":u[4]||(u[4]=a=>e.value.password=a),"onUpdate:isValid":u[5]||(u[5]=a=>V(a))},null,8,["newPassword"]),x],40,P))}});export{R as default};
