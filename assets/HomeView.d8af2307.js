import{d as k,o as n,c as l,a as p,t as I,p as R,b as S,_ as x,u as b,e as T,r as h,w,f,g as m,F as B,h as L,i as y,j as U,n as j,k as C,l as H,m as N,q as z,s as G}from"./index.69278fbe.js";import{u as J}from"./useCataas.761f82dd.js";const K=i=>(R("data-v-e3f653e0"),i=i(),S(),i),O={class:"catalog-card"},Q={class:"catalog-card__top"},W=["src"],X={class:"catalog-card__bottom"},Y={class:"catalog-card__title"},Z=K(()=>p("p",{class:"catalog-card__text"}," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ut quo fuga magni sed similique architecto impedit iste veniam voluptas quaerat. Praesentium vel mollitia amet reprehenderit facilis dignissimos non eos dolorum. ",-1)),ee=k({__name:"CatalogItem",props:{itemData:{default:()=>{}}},setup(i){return(_,e)=>(n(),l("div",O,[p("div",Q,[p("img",{src:`https://cataas.com/cat/${i.itemData._id}`,width:"300",height:"400",class:"preloader"},null,8,W)]),p("div",X,[p("h2",Y,"Cat "+I(i.itemData._id),1),Z])]))}});const ae=x(ee,[["__scopeId","data-v-e3f653e0"]]),te=k({__name:"CatalogList",props:{list:{default:()=>[]},currentPage:{default:1},itemsPerPage:{default:10}},emits:["update:currentPage"],setup(i,{emit:_}){const e=i,t=b(),g=T(),P=h(null);w(()=>e.currentPage,()=>{if(e.currentPage&&e.currentPage!==Number(t.query.page)){let u={page:`${e.currentPage}`};e.currentPage===1&&(u={}),g.push({path:t.path,query:u})}P.value&&P.value.scrollIntoView({behavior:"smooth"})}),w(()=>t.path,u=>{u==="/"&&!t.query.page&&_("update:currentPage",1)},{deep:!0,immediate:!0});const d=f(()=>{if(!e.list.length)return[];const u=[],c=(e.currentPage-1)*e.itemsPerPage,v=c+e.itemsPerPage;for(let r=c;r<v&&e.list[r];r++)u.push(e.list[r]);return u});return(u,c)=>m(d).length?(n(),l("div",{key:0,class:"catalog-list",ref_key:"catalogElement",ref:P},[(n(!0),l(B,null,L(m(d),v=>(n(),U(ae,{key:v._id,"item-data":v,class:"catalog-list__item"},null,8,["item-data"]))),128))],512)):y("",!0)}});const se=x(te,[["__scopeId","data-v-47e5e908"]]),ie={class:"pagination-bar"},ne=["onClick"],ue=k({__name:"PaginationBar",props:{activePage:{default:1},perPage:{default:10},lastPage:{default:1}},emits:["update:activePage"],setup(i,{emit:_}){const e=i,t=f(()=>e.lastPage<40?Math.ceil((e.lastPage-5)/2)+5:Math.ceil((e.lastPage-5)/2)),g=f(()=>{const a=[];if(e.lastPage<8)for(let s=1;s<=e.lastPage;s++)a.push(s);else if(e.activePage<5){for(let s=1;s<=5;s++)a.push(s);a.push(t.value),a.push(e.lastPage)}else if(e.activePage>=e.lastPage-4){a.push(1),e.lastPage>=40&&a.push(t.value),e.activePage===e.lastPage-4&&(a.push(e.activePage-2),a.push(e.activePage-1));for(let s=e.lastPage-4;s<=e.lastPage;s++)a.push(s)}else a.push(1),e.activePage===5&&a.push(2),e.activePage<t.value+2&&a.push(...P()),t.value>=e.activePage-2&&t.value<=e.activePage+2||a.push(t.value),e.activePage>=t.value+2&&a.push(...P()),a.push(e.lastPage);return a}),P=()=>{const a=[];for(let s=e.activePage-2;s<=e.activePage+2;s++)a.push(s);return a},d=a=>e.lastPage>=8&&(a===1&&e.activePage>5||a===t.value&&e.activePage>t.value+2&&t.value<e.lastPage-4),u=a=>e.lastPage>=8&&(a===e.lastPage&&e.activePage<=e.lastPage-5||a===t.value&&e.activePage<t.value-2),c=a=>v(a)||r(a)||q(a)||M(a)||E(a)||A(a)||D(a),v=a=>a===e.activePage-2&&e.activePage!==e.lastPage,r=a=>a===e.activePage+2&&a!==e.lastPage&&e.activePage!==1,q=a=>a===t.value&&e.activePage-1!==t.value&&e.activePage+1!==t.value&&e.activePage!==t.value&&e.lastPage>5,M=a=>a===1&&e.activePage>2&&e.activePage!==e.lastPage,E=a=>e.activePage<3&&a>3&&a!==e.lastPage,A=a=>e.activePage===e.lastPage&&a<e.lastPage-2&&a!==1,D=a=>(a<e.activePage-1||a>e.activePage+1)&&a!==e.lastPage&&e.activePage!==e.lastPage&&e.activePage!==1,V=a=>{_("update:activePage",a)},$=a=>{_("update:activePage",a)};return(a,s)=>{const F=z("router-link");return n(),l("ul",ie,[i.activePage!==1?(n(),l("li",{key:0,class:"pagination-bar__arrow pagination-bar__arrow--left",onClick:s[0]||(s[0]=o=>$(i.activePage-1))}," < ")):y("",!0),(n(!0),l(B,null,L(m(g),o=>(n(),l("li",{key:o,class:j(["pagination-bar__page",{"active-page":o===i.activePage,"page-mr":d(o),"page-ml":u(o),"mobile-hidden-link":c(o)}]),onClick:ge=>V(o)},[C(F,{to:`/?page=${o}`,class:"pagination-bar__page-link"},{default:H(()=>[N(I(o),1)]),_:2},1032,["to"])],10,ne))),128)),i.activePage!==i.lastPage?(n(),l("li",{key:1,class:"pagination-bar__arrow pagination-bar__arrow--right",onClick:s[1]||(s[1]=o=>$(i.activePage+1))}," > ")):y("",!0)])}}});const le=x(ue,[["__scopeId","data-v-67a50795"]]),ce=p("h1",{class:"text-center mb-10"},"\u041A\u0430\u0442\u0430\u043B\u043E\u0433",-1),re={key:0},oe={key:1,class:"flex justify-center"},_e=k({__name:"HomeView",setup(i){const _=b(),{getCats:e}=J(),t=h([]),g=h(1),P=h(10),d=f(()=>t.value?Math.ceil(t.value.length/P.value):1);return G(async()=>{_.query.page&&(g.value=Number(_.query.page)),t.value=await e()}),(u,c)=>{var v;return n(),l("div",null,[ce,(v=t.value)!=null&&v.length?(n(),l("div",re,[C(se,{"current-page":g.value,"onUpdate:current-page":c[0]||(c[0]=r=>g.value=r),list:t.value},null,8,["current-page","list"]),C(le,{"active-page":g.value,"onUpdate:active-page":c[1]||(c[1]=r=>g.value=r),lastPage:m(d),"per-page":P.value},null,8,["active-page","lastPage","per-page"])])):(n(),l("div",oe," \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F "))])}}});export{_e as default};
